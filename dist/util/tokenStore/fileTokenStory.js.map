{"version":3,"file":"fileTokenStory.js","names":["FileTokenStore","client","tokenStore","wppconnect","encodeFunction","data","config","decodeFunction","text","JSON","stringify","object","parse","Object","keys","length","webhook","module","exports"],"sources":["../../../src/util/tokenStore/fileTokenStory.js"],"sourcesContent":["import * as wppconnect from '@wppconnect-team/wppconnect';\n\nvar FileTokenStore = function (client) {\n  this.tokenStore = new wppconnect.tokenStore.FileTokenStore({\n    encodeFunction: (data) => {\n      return this.encodeFunction(data, client.config);\n    },\n    decodeFunction: (text) => {\n      return this.decodeFunction(text, client);\n    },\n  });\n\n  this.encodeFunction = function (data, config) {\n    data.config = config;\n    return JSON.stringify(data);\n  };\n\n  this.decodeFunction = function (text, client) {\n    let object = JSON.parse(text);\n    if (object.config && Object.keys(client.config).length === 0) client.config = object.config;\n    if (object.webhook && Object.keys(client.config).length === 0) client.config.webhook = object.webhook;\n    return object;\n  };\n};\n\nmodule.exports = FileTokenStore;\n"],"mappings":"aAAA,iFAA0D;;AAE1D,IAAIA,cAAc,GAAG,UAAUC,MAAM,EAAE;EACrC,IAAI,CAACC,UAAU,GAAG,IAAIC,UAAU,CAACD,UAAU,CAACF,cAAc,CAAC;IACzDI,cAAc,EAAE,CAACC,IAAI,KAAK;MACxB,OAAO,IAAI,CAACD,cAAc,CAACC,IAAI,EAAEJ,MAAM,CAACK,MAAM,CAAC;IACjD,CAAC;IACDC,cAAc,EAAE,CAACC,IAAI,KAAK;MACxB,OAAO,IAAI,CAACD,cAAc,CAACC,IAAI,EAAEP,MAAM,CAAC;IAC1C;EACF,CAAC,CAAC;;EAEF,IAAI,CAACG,cAAc,GAAG,UAAUC,IAAI,EAAEC,MAAM,EAAE;IAC5CD,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,OAAOG,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC;EAC7B,CAAC;;EAED,IAAI,CAACE,cAAc,GAAG,UAAUC,IAAI,EAAEP,MAAM,EAAE;IAC5C,IAAIU,MAAM,GAAGF,IAAI,CAACG,KAAK,CAACJ,IAAI,CAAC;IAC7B,IAAIG,MAAM,CAACL,MAAM,IAAIO,MAAM,CAACC,IAAI,CAACb,MAAM,CAACK,MAAM,CAAC,CAACS,MAAM,KAAK,CAAC,EAAEd,MAAM,CAACK,MAAM,GAAGK,MAAM,CAACL,MAAM;IAC3F,IAAIK,MAAM,CAACK,OAAO,IAAIH,MAAM,CAACC,IAAI,CAACb,MAAM,CAACK,MAAM,CAAC,CAACS,MAAM,KAAK,CAAC,EAAEd,MAAM,CAACK,MAAM,CAACU,OAAO,GAAGL,MAAM,CAACK,OAAO;IACrG,OAAOL,MAAM;EACf,CAAC;AACH,CAAC;;AAEDM,MAAM,CAACC,OAAO,GAAGlB,cAAc"}