{"version":3,"file":"groupController.js","names":["getAllGroups","req","res","response","client","status","json","e","logger","error","message","joinGroupByCode","inviteCode","body","send","joinGroup","contact","createGroup","participants","name","infoGroup","group","groupNameToArray","contactToArray","push","id","gid","user","groupInfo","leaveGroup","groupId","groupToArray","messages","getGroupMembers","params","addParticipant","phone","arrayGroups","groups","result","removeParticipant","promoteParticipant","demoteParticipant","getGroupAdmins","getGroupInviteLink","revokeGroupInviteLink","getAllBroadcastList","getGroupInfoFromInviteLink","invitecode","getGroupMembersIds","setGroupDescription","description","setGroupProperty","property","value","setGroupSubject","title","setMessagesAdminsOnly","changePrivacyGroup","setGroupProfilePic","path","file","pathFile","contato","setGroupIcon"],"sources":["../../src/controller/groupController.js"],"sourcesContent":["/*\n * Copyright 2021 WPPConnect Team\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { contactToArray, groupNameToArray, groupToArray } from '../util/functions';\n\nexport async function getAllGroups(req, res) {\n  try {\n    const response = await req.client.getAllGroups();\n\n    return res.status(200).json({ status: 'success', response: response });\n  } catch (e) {\n    req.logger.error(e);\n    res.status(500).json({ status: 'error', message: 'Error fetching groups', error: e });\n  }\n}\n\nexport async function joinGroupByCode(req, res) {\n  const { inviteCode } = req.body;\n\n  if (!inviteCode) return res.status(400).send({ message: 'Invitation Code is required' });\n\n  try {\n    await req.client.joinGroup(inviteCode);\n    res.status(201).json({\n      status: 'success',\n      response: { message: 'The informed contact(s) entered the group successfully', contact: inviteCode },\n    });\n  } catch (error) {\n    req.logger.error(error);\n    res\n      .status(500)\n      .json({ status: 'error', message: 'The informed contact(s) did not join the group successfully', error: error });\n  }\n}\n\nexport async function createGroup(req, res) {\n  const { participants, name } = req.body;\n\n  try {\n    let response = {};\n    let infoGroup = [];\n\n    for (const group of groupNameToArray(name)) {\n      response = await req.client.createGroup(group, contactToArray(participants));\n      infoGroup.push({\n        name: group,\n        id: response.gid.user,\n        participants: response.participants,\n      });\n    }\n\n    return res.status(201).json({\n      status: 'success',\n      response: { message: 'Group(s) created successfully', group: name, groupInfo: infoGroup },\n    });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error creating group(s)', error: e });\n  }\n}\n\nexport async function leaveGroup(req, res) {\n  const { groupId } = req.body;\n\n  try {\n    for (const group of groupToArray(groupId)) {\n      await req.client.leaveGroup(group);\n    }\n\n    return res.status(200).json({\n      status: 'success',\n      response: { messages: 'VocÃª saiu do grupo com sucesso', group: groupId },\n    });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Erro ao sair do(s) grupo(s)', error: e });\n  }\n}\n\nexport async function getGroupMembers(req, res) {\n  const { groupId } = req.params;\n\n  try {\n    let response = {};\n    for (const group of groupToArray(groupId)) {\n      response = await req.client.getGroupMembers(group);\n    }\n    return res.status(200).json({ status: 'success', response: response });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error on get group members', error: e });\n  }\n}\n\nexport async function addParticipant(req, res) {\n  const { groupId, phone } = req.body;\n\n  try {\n    let response = {};\n    let arrayGroups = [];\n\n    for (const group of groupToArray(groupId)) {\n      response = await req.client.addParticipant(group, contactToArray(phone));\n      arrayGroups.push(response);\n    }\n\n    return res.status(201).json({\n      status: 'success',\n      response: {\n        message: 'Addition to group attempted.',\n        participants: phone,\n        groups: groupToArray(groupId),\n        result: arrayGroups,\n      },\n    });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error adding participant(s)', error: e });\n  }\n}\n\nexport async function removeParticipant(req, res) {\n  const { groupId, phone } = req.body;\n\n  try {\n    let response = {};\n    let arrayGroups = [];\n\n    for (const group of groupToArray(groupId)) {\n      response = await req.client.removeParticipant(group, contactToArray(phone));\n      arrayGroups.push(response);\n    }\n\n    return res.status(200).json({\n      status: 'success',\n      response: { message: 'Participant(s) removed successfully', participants: phone, groups: arrayGroups },\n    });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error removing participant(s)', error: e });\n  }\n}\n\nexport async function promoteParticipant(req, res) {\n  const { groupId, phone } = req.body;\n\n  try {\n    let arrayGroups = [];\n    for (const group of groupToArray(groupId)) {\n      await req.client.promoteParticipant(group, contactToArray(phone));\n      arrayGroups.push(group);\n    }\n\n    return res.status(201).json({\n      status: 'success',\n      response: { message: 'Successful promoted participant(s)', participants: phone, groups: arrayGroups },\n    });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error promoting participant(s)', error: e });\n  }\n}\n\nexport async function demoteParticipant(req, res) {\n  const { groupId, phone } = req.body;\n\n  try {\n    let arrayGroups = [];\n    for (const group of groupToArray(groupId)) {\n      await req.client.demoteParticipant(group, contactToArray(phone));\n      arrayGroups.push(group);\n    }\n\n    return res.status(201).json({\n      status: 'success',\n      response: { message: 'Admin of participant(s) revoked successfully', participants: phone, groups: arrayGroups },\n    });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: \"Error revoking participant's admin(s)\", error: e });\n  }\n}\n\nexport async function getGroupAdmins(req, res) {\n  const { groupId } = req.params;\n\n  try {\n    let response = {};\n    let arrayGroups = [];\n\n    for (const group of groupToArray(groupId)) {\n      response = await req.client.getGroupAdmins(group);\n      arrayGroups.push(response);\n    }\n\n    return res.status(200).json({ status: 'success', response: arrayGroups });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error retrieving group admin(s)', error: e });\n  }\n}\n\nexport async function getGroupInviteLink(req, res) {\n  const { groupId } = req.params;\n  try {\n    let response = {};\n    for (const group of groupToArray(groupId)) {\n      response = await req.client.getGroupInviteLink(group);\n    }\n\n    return res.status(200).json({ status: 'success', response: response });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error on get group invite link', error: e });\n  }\n}\n\nexport async function revokeGroupInviteLink(req, res) {\n  const { groupId } = req.params;\n\n  let response = {};\n\n  try {\n    for (const group of groupToArray(groupId)) {\n      response = await req.client.revokeGroupInviteLink(group);\n    }\n\n    return res.status(200).json({\n      status: 'Success',\n      response: response,\n    });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(400).json({ status: 'error', message: 'Error on revoke group invite link', error: e });\n  }\n}\n\nexport async function getAllBroadcastList(req, res) {\n  try {\n    let response = await req.client.getAllBroadcastList();\n    return res.status(200).json({ status: 'success', response: response });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error on get all broad cast list', error: e });\n  }\n}\n\nexport async function getGroupInfoFromInviteLink(req, res) {\n  try {\n    const { invitecode } = req.body;\n    let response = await req.client.getGroupInfoFromInviteLink(invitecode);\n    return res.status(200).json({ status: 'success', response: response });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error on get group info from invite link', error: e });\n  }\n}\n\nexport async function getGroupMembersIds(req, res) {\n  const { groupId } = req.params;\n  let response = {};\n  try {\n    for (const group of groupToArray(groupId)) {\n      response = await req.client.getGroupMembersIds(group);\n    }\n    return res.status(200).json({ status: 'success', response: response });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error on get group members ids', error: e });\n  }\n}\n\nexport async function setGroupDescription(req, res) {\n  const { groupId, description } = req.body;\n\n  let response = {};\n\n  try {\n    for (const group of groupToArray(groupId)) {\n      response = await req.client.setGroupDescription(group, description);\n    }\n\n    return res.status(200).json({ status: 'success', response: response });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error on set group description', error: e });\n  }\n}\n\nexport async function setGroupProperty(req, res) {\n  const { groupId, property, value = true } = req.body;\n\n  let response = {};\n\n  try {\n    for (const group of groupToArray(groupId)) {\n      response = await req.client.setGroupProperty(group, property, value);\n    }\n\n    return res.status(200).json({ status: 'success', response: response });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error on set group property', error: e });\n  }\n}\n\nexport async function setGroupSubject(req, res) {\n  const { groupId, title } = req.body;\n\n  let response = {};\n\n  try {\n    for (const group of groupToArray(groupId)) {\n      response = await req.client.setGroupSubject(group, title);\n    }\n\n    return res.status(200).json({ status: 'success', response: response });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error on set group subject', error: e });\n  }\n}\n\nexport async function setMessagesAdminsOnly(req, res) {\n  const { groupId, value = true } = req.body;\n\n  let response = {};\n\n  try {\n    for (const group of groupToArray(groupId)) {\n      response = await req.client.setMessagesAdminsOnly(group, value);\n    }\n\n    return res.status(200).json({ status: 'success', response: response });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error on set messages admins only', error: e });\n  }\n}\n\nexport async function changePrivacyGroup(req, res) {\n  const { groupId, status } = req.body;\n\n  try {\n    for (const group of contactToArray(groupId)) {\n      await req.client.setMessagesAdminsOnly(group, status === 'true');\n    }\n\n    return res.status(200).json({ status: 'success', response: { message: 'Group privacy changed successfully' } });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error changing group privacy', error: e });\n  }\n}\n\nexport async function setGroupProfilePic(req, res) {\n  const { phone, path } = req.body;\n\n  if (!path && !req.file)\n    return res.status(401).send({\n      message: 'Sending the image is mandatory',\n    });\n\n  const pathFile = path || req.file.path;\n\n  try {\n    for (const contato of contactToArray(phone, true)) {\n      await req.client.setGroupIcon(contato, pathFile);\n    }\n\n    return res\n      .status(201)\n      .json({ status: 'success', response: { message: 'Group profile photo successfully changed' } });\n  } catch (e) {\n    req.logger.error(e);\n    return res.status(500).json({ status: 'error', message: 'Error changing group photo', error: e });\n  }\n}\n"],"mappings":"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"}