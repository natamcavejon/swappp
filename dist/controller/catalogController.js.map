{"version":3,"file":"catalogController.js","names":["getProducts","req","res","phone","qnt","query","status","send","message","result","client","json","response","error","getProductById","id","editProduct","options","body","delProducts","changeProductImage","base64","addProductImage","removeProductImage","index","getCollections","max","createCollection","name","products","editCollection","deleteCollection","setProductVisibility","value","updateCartEnabled","enabled","sendLinkCatalog","phones","results","session","getWid","catalogLink","createCatalogLink","sendText","useTemplateButtons","buttons","url","text","push"],"sources":["../../src/controller/catalogController.js"],"sourcesContent":["/*\n * Copyright 2021 WPPConnect Team\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createCatalogLink, groupNameToArray } from '../util/functions';\n\nexport async function getProducts(req, res) {\n  const { phone, qnt } = req.query;\n  if (!phone)\n    return res.status(401).send({\n      message: 'Please send the contact number you wish to return the products.',\n    });\n\n  try {\n    const result = await req.client.getProducts(phone, qnt);\n    res.status(201).json({ status: 'success', response: result });\n  } catch (error) {\n    res.status(500).json({ status: 'Error', message: 'Error on get products', error: error });\n  }\n}\n\nexport async function getProductById(req, res) {\n  const { phone, id } = req.query;\n  if (!phone || !id)\n    return res.status(401).send({\n      message: 'Please send the contact number and productId.',\n    });\n\n  try {\n    const result = await req.client.getProductById(phone, id);\n    res.status(201).json({ status: 'success', response: result });\n  } catch (error) {\n    res.status(500).json({ status: 'Error', message: 'Error on get product', error: error });\n  }\n}\n\nexport async function editProduct(req, res) {\n  const { id, options } = req.body;\n  if (!id || !options)\n    return res.status(401).send({\n      message: 'productId or options was not informed',\n    });\n\n  try {\n    const result = await req.client.editProduct(id, options);\n    res.status(201).json({ status: 'success', response: result });\n  } catch (error) {\n    res.status(500).json({ status: 'Error', message: 'Error on edit product.', error: error });\n  }\n}\n\nexport async function delProducts(req, res) {\n  const { id } = req.body;\n  if (!id)\n    return res.status(401).send({\n      message: 'products Id was not informed',\n    });\n\n  try {\n    const result = await req.client.delProducts(id);\n    res.status(201).json({ status: 'success', response: result });\n  } catch (error) {\n    res.status(500).json({ status: 'Error', message: 'Error on delete product.', error: error });\n  }\n}\n\nexport async function changeProductImage(req, res) {\n  const { id, base64 } = req.body;\n  if (!id || !base64)\n    return res.status(401).send({\n      message: 'productId and base64 was not informed',\n    });\n\n  try {\n    const result = await req.client.changeProductImage(id, base64);\n    res.status(201).json({ status: 'success', response: result });\n  } catch (error) {\n    res.status(500).json({ status: 'Error', message: 'Error on change product image.', error: error });\n  }\n}\n\nexport async function addProductImage(req, res) {\n  const { id, base64 } = req.body;\n  if (!id || !base64)\n    return res.status(401).send({\n      message: 'productId and base64 was not informed',\n    });\n\n  try {\n    const result = await req.client.addProductImage(id, base64);\n    res.status(201).json({ status: 'success', response: result });\n  } catch (error) {\n    res.status(500).json({ status: 'Error', message: 'Error on add product image.', error: error });\n  }\n}\n\nexport async function removeProductImage(req, res) {\n  const { id, index } = req.body;\n  if (!id || !index)\n    return res.status(401).send({\n      message: 'productId and index image was not informed',\n    });\n\n  try {\n    const result = await req.client.addProductImage(id, index);\n    res.status(201).json({ status: 'success', response: result });\n  } catch (error) {\n    res.status(500).json({ status: 'Error', message: 'Error on remove product image.', error: error });\n  }\n}\n\nexport async function getCollections(req, res) {\n  const { phone, qnt, max } = req.query;\n  if (!phone)\n    return res.status(401).send({\n      message: 'phone was not informed',\n    });\n\n  try {\n    const result = await req.client.getCollections(phone, qnt, max);\n    res.status(201).json({ status: 'success', response: result });\n  } catch (error) {\n    res.status(500).json({ status: 'Error', message: 'Error on get collections.', error: error });\n  }\n}\n\nexport async function createCollection(req, res) {\n  const { name, products } = req.body;\n  if (!name || !products)\n    return res.status(401).send({\n      message: 'name or products was not informed',\n    });\n\n  try {\n    const result = await req.client.createCollection(name, products);\n    res.status(201).json({ status: 'success', response: result });\n  } catch (error) {\n    res.status(500).json({ status: 'Error', message: 'Error on create collection.', error: error });\n  }\n}\n\nexport async function editCollection(req, res) {\n  const { id, options } = req.body;\n  if (!id || !options)\n    return res.status(401).send({\n      message: 'id or options was not informed',\n    });\n\n  try {\n    const result = await req.client.createCollection(id, options);\n    res.status(201).json({ status: 'success', response: result });\n  } catch (error) {\n    res.status(500).json({ status: 'Error', message: 'Error on edit collection.', error: error });\n  }\n}\n\nexport async function deleteCollection(req, res) {\n  const { id } = req.body;\n  if (!id)\n    return res.status(401).send({\n      message: 'id was not informed',\n    });\n\n  try {\n    const result = await req.client.deleteCollection(id);\n    res.status(201).json({ status: 'success', response: result });\n  } catch (error) {\n    res.status(500).json({ status: 'Error', message: 'Error on delete collection.', error: error });\n  }\n}\n\nexport async function setProductVisibility(req, res) {\n  const { id, value } = req.body;\n  if (!id || !value)\n    return res.status(401).send({\n      message: 'product id or value (false, true) was not informed',\n    });\n\n  try {\n    const result = await req.client.setProductVisibility(id, value);\n    res.status(201).json({ status: 'success', response: result });\n  } catch (error) {\n    res.status(500).json({ status: 'Error', message: 'Error on set product visibility.', error: error });\n  }\n}\n\nexport async function updateCartEnabled(req, res) {\n  const { enabled } = req.body;\n  if (!enabled)\n    return res.status(401).send({\n      message: 'enabled (false, true) was not informed',\n    });\n\n  try {\n    const result = await req.client.updateCartEnabled(enabled);\n    res.status(201).json({ status: 'success', response: result });\n  } catch (error) {\n    res.status(500).json({ status: 'Error', message: 'Error on set enabled cart.', error: error });\n  }\n}\n\nexport async function sendLinkCatalog(req, res) {\n  const { phones, message } = req.body;\n  if (!phones)\n    return res.status(401).send({\n      message: 'phones was not informed',\n    });\n  const results = [];\n  try {\n    const session = await req.client.getWid();\n    const catalogLink = createCatalogLink(session);\n    for (const phone of phones) {\n      const result = await req.client.sendText(phone, `${message} ${catalogLink}`, {\n        useTemplateButtons: true,\n        buttons: [\n          {\n            url: catalogLink,\n            text: 'Abrir cat√°logo',\n          },\n        ],\n      });\n      results.push({ phone, status: result.id });\n    }\n    return res.status(200).json({ status: 'success', response: results });\n  } catch (error) {\n    res.status(500).json({ status: 'Error', message: 'Error on set enabled cart.', error: error });\n  }\n}\n"],"mappings":"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"}